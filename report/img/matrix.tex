\begin{table}
  % [!htb]
  \footnotesize
  \newcommand\makematrix[9]{
    \neworrenewcommand{\ffoo}[7]{
      \begin{tabular}{c|cccc}
               & $\n_1$ & $\n_2$ & $\n_3$ & $\n_4$ \\ \hline
        $\n_1$ & $#1$   & $#2$   & $#3$   & $#4$   \\
        $\n_2$ & $#5$   & $#6$   & $#7$   & $#8$   \\
        $\n_3$ & $#9$   & $##1$  & $##2$  & $##3$  \\
        $\n_4$ & $##4$  & $##5$  & $##6$  & $##7$
      \end{tabular}
    }
    \ffoo
  }
  \begin{subtable}{.25\linewidth}
    \centering
    \makematrix
    {0}{-4}{3}{\infty}
    {\infty}{0}{\infty}{2}
    {2}{4}{0}{\infty}
    {\infty}{\infty}{1}{0}
    \caption{Iteration 1}
    \label{tbl:floydit1}
  \end{subtable}%
  \begin{subtable}{.25\linewidth}
    \centering
    \makematrix
    {0}{-4}{3}{-2}
    {\infty}{0}{\infty}{2}
    {2}{-2}{0}{0}
    {\infty}{\infty}{1}{0}
    \caption{Iteration 2}
  \end{subtable}%
  \begin{subtable}{.25\linewidth}
    \centering
    \makematrix
    {0}{-4}{3}{-2}
    {\infty}{0}{\infty}{2}
    {2}{-2}{0}{0}
    {3}{-1}{1}{0}
    \caption{Iteration 3}
  \end{subtable}%
  \begin{subtable}{.25\linewidth}
    \centering
    \makematrix
    {0}{-4}{-1}{-2}
    {5}{0}{3}{2}
    {2}{-2}{0}{0}
    {3}{-1}{1}{0}
    \caption{Iteration 4}
  \end{subtable} 

  \caption{\FW\ algorithm execution of \cref{fig:digraph}}
  \label{tbl:floydexec}
\end{table}